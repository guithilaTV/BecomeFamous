<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Become Famous - Score Tracker</title>
    <style>
      body {
        font-family: "Arial", sans-serif;
        background: linear-gradient(to right, #6a11cb, #2575fc);
        color: #ffffff;
        margin: 0;
        padding: 0;
        text-align: center;
      }
      .container {
        max-width: 90%;
        margin: 50px auto;
        padding: 20px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }
      h1 {
        font-size: 2em;
        margin-bottom: 10px;
      }
      h2 {
        margin-top: 0;
        color: #f9f9f9;
        font-weight: 300;
      }
      .player-list {
        margin: 20px 0;
      }
      .player {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 10px;
        margin-bottom: 15px;
        gap: 10px; /* Espace entre les Ã©lÃ©ments */
      }
      .player span {
        flex: 1 1 100px;
        text-align: center;
      }
      .buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        justify-content: center;
      }
      .player .buttons {
        flex: 2; /* Les boutons prennent plus de place */
        text-align: center;
      }
      .player .score {
        flex: 1; /* Score garde une taille constante */
        text-align: center;
      }
      .player button:last-child {
        flex: 0; /* EmpÃªche le bouton delete de prendre trop d'espace */
      }
      button {
        padding: 8px 15px;
        background-color: #ffffff;
        color: #2575fc;
        font-weight: bold;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s;
      }
      button:hover {
        background-color: #6a11cb;
        color: #ffffff;
      }
      .add-player {
        margin-bottom: 20px;
      }
      input {
        padding: 10px;
        width: 70%;
        max-width: 300px;
        margin-right: 10px;
        border: none;
        border-radius: 5px;
        font-size: 1em;
      }
      input:focus {
        outline: none;
        box-shadow: 0 0 5px #ffffff;
      }
      .final-btn {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 1.2em;
        background-color: #ffffff;
        color: #2575fc;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        transition: background-color 0.3s;
      }
      .final-btn:hover {
        background-color: #6a11cb;
        color: #ffffff;
      }
      #popup {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
      }
      .popup-content {
        background: #fff;
        color: #000;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        max-width: 90%;
        width: 400px;
      }
      .close-popup {
        margin-top: 10px;
        background: #2575fc;
        color: #fff;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
      }
      /* Responsive Design */
      @media (max-width: 600px) {
        .player {
          flex-direction: column; /* RÃ©organise verticalement sur petits Ã©crans */
          align-items: center;
        }
        .buttons {
          justify-content: center; /* Centre les boutons */
          width: 100%; /* S'assure qu'ils prennent toute la largeur */
        }
        .player button:last-child {
          margin-top: 10px; /* Place le bouton delete en bas */
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Become Famous</h1>
      <h2>Track your journey to fame!</h2>
      <div class="add-player">
        <input type="text" id="playerName" placeholder="Enter player name" />
        <button onclick="addPlayer()">Add Player</button>
      </div>
      <div class="player-list" id="playerList">
        <!-- Players will be added here dynamically -->
      </div>
      <button class="final-btn" onclick="finishGame()">Game Finished</button>
    </div>

    <!-- Popup for final ranking -->
    <div id="popup">
      <div class="popup-content" id="popupContent">
        <!-- Ranking will be displayed here -->
      </div>
      <button class="close-popup" onclick="closePopup()">Close</button>
    </div>

    <script>
      const playerList = document.getElementById("playerList");
      const popup = document.getElementById("popup");
      const popupContent = document.getElementById("popupContent");

      function addPlayer() {
        const playerName = document.getElementById("playerName").value;
        if (playerName.trim() === "") {
          alert("Player name cannot be empty!");
          return;
        }

        const playerDiv = document.createElement("div");
        playerDiv.classList.add("player");

        playerDiv.innerHTML = `
        <span>${playerName}</span>
        <div class="buttons">
          <button onclick="updateScore(this, 20)">+20</button>
          <button onclick="updateScore(this, 50)">+50</button>
          <button onclick="updateScore(this, 100)">+100</button>
          <button onclick="updateScore(this, -10)">-10</button>
          <button onclick="updateScore(this, -30)">-30</button>
          <button onclick="updateScore(this, -50)">-50</button>
          <button onclick="resetScore(this)">Reset</button>
        </div>
        <span class="score">100</span>
        <button onclick="removePlayer(this)">ðŸ—‘</button>
      `;

        playerList.appendChild(playerDiv);
        document.getElementById("playerName").value = "";
      }

      function updateScore(button, points) {
        const playerDiv = button.parentElement.parentElement;
        const scoreSpan = playerDiv.querySelector(".score");
        let currentScore = parseInt(scoreSpan.textContent, 10);
        currentScore += points;
        if (currentScore < 0) currentScore = 0;
        scoreSpan.textContent = currentScore;
      }

      function resetScore(button) {
        const playerDiv = button.parentElement.parentElement;
        const scoreSpan = playerDiv.querySelector(".score");
        scoreSpan.textContent = 100;
      }

      function removePlayer(button) {
        const playerDiv = button.parentElement;
        playerDiv.remove();
      }

      function finishGame() {
        const players = Array.from(document.querySelectorAll(".player"));
        const rankings = players
          .map((player) => {
            const name = player.querySelector("span").textContent;
            const score = parseInt(
              player.querySelector(".score").textContent,
              10
            );
            return { name, score };
          })
          .sort((a, b) => b.score - a.score);

        popupContent.innerHTML = "<h2>Game Rankings</h2>";
        rankings.forEach((player, index) => {
          popupContent.innerHTML += `<p>${index + 1}. ${player.name} - ${
            player.score
          } visitors</p>`;
        });
        popup.style.display = "flex";
      }

      function closePopup() {
        popup.style.display = "none";
      }
    </script>
  </body>
</html>
